#!perl

# evaluate brick triples
# @(#) $Id$
# 2015-07-14, Dr. Georg Fischer

use strict;
use List::Util qw[min max];
    
    while (<>) {
        my @brick = split;
        my @t1 = split(/\,/, $brick[0]); 
        my @t2 = split(/\,/, $brick[2]); 
        my @t3 = split(/\,/, $brick[4]); 
        push(@t1, $brick[1]);
        push(@t2, $brick[3]);
        push(@t3, $brick[5]);
        splice(@t1, 0, 3); 
		splice(@t2, 0, 3); 
		splice(@t3, 0, 3);  
        &test(@t1);
        &test(@t2);
        &test(@t3);
        print join(" ", @t1) . "\n";
        print join(" ", @t2) . "\n";
        print join(" ", @t3) . "\n";
    } # while <> 

sub test {
	my ($a, $b) = @_;
	if ($a % 2 == $b % 2) {
		print STDERR "==== same parity: $a $b\n";
	}
	if (&gcd($a, $b) > 1) {
		print STDERR "==== gcd > 1: $a $b\n";
	} 
} # test

sub gcd {
    my ($a, $b) = @_;
    ($a, $b) = ($b, $a) if $a > $b; 
    while ($a) { 
        ($a, $b) = ($b % $a, $a) 
    } # while
    return $b;
} # gcd

__DATA__
7,24,25,4,3 *20                  99,20,101,10,1 *7                231,160,281,16,5 *3             
7,24,25,4,3 *33                  99,20,101,10,1 *8                231,160,281,16,5 *1             
11,60,61,6,5 *12                 17,144,145,9,8 *5                85,132,157,11,6 *1              
11,60,61,6,5 *17                 17,144,145,9,8 *11               85,132,157,11,6 *12             
11,60,61,6,5 *39                 39,80,89,8,5 *11                 117,44,125,11,2 *20             
11,60,61,6,5 *4                  39,80,89,8,5 *3                  117,44,125,11,2 *1              
11,60,61,6,5 *105                105,608,617,19,16 *11            1575,1672,2297,44,19 *4         
11,60,61,6,5 *152                105,608,617,19,16 *15            1575,1672,2297,44,19 *1         
11,60,61,6,5 *12208              38295,48832,62057,224,109 *15    574425,134288,589913,763,88 *1  
11,60,61,6,5 *38295              38295,48832,62057,224,109 *11    574425,134288,589913,763,88 *4  
11,60,61,6,5 *3471000            8430569,38181000,39100681,4875,3916 *1 8430569,208260000,208430569,10413,10000 *1
11,60,61,6,5 *2560932            33220487,30731184,45254905,6264,2453 *5 166102435,28170252,168474277,12934,1089 *1
11,60,61,6,5 *1902836            163112049,38056720,167492849,12857,1480 *3 489336147,20931196,489783605,22126,473 *1
13,84,85,7,6 *38324              714705,1073072,1289297,1001,536 *3 2144115,498212,2201237,1474,169 *1
13,84,85,7,6 *714705             714705,1073072,1289297,1001,536 *13 2144115,498212,2201237,1474,169 *28
17,144,145,9,8 *44               65,2112,2113,33,32 *3            195,748,773,22,17 *1            
17,144,145,9,8 *65               65,2112,2113,33,32 *17           195,748,773,22,17 *48           
17,144,145,9,8 *1155             1155,1292,1733,38,17 *17         5491,41580,41941,154,135 *4     
17,144,145,9,8 *323              1155,1292,1733,38,17 *36         5491,41580,41941,154,135 *1     
17,144,145,9,8 *11277            191709,773300,796709,703,550 *1  193325,405972,449653,567,358 *4 

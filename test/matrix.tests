# Collection of Testcases for Ramath
# @(#) $Id: matrix.tests 955 2012-06-05 07:22:59Z gfis $
# 2015-03-23, Dr. Georg Fischer: extracted from siomple.tests
#-----------------------------------
# Caution:
# (1) Adjust the following line: URL where Ramath was deployed
URL=http://localhost:8080/ramath/servlet
# (2) Adjust the following line: default commandline arguments
ARGS=
#======================================================================

# Symbolic Matrix Algebra
PACKAGE=org.teherba.ramath.symbolic

TEST S00 PolyVector from expression
CALL PolyVector

TEST S01 PolyVector inner product
CALL PolyVector -read "a-b" "a+b" "c+d"

TEST S02 PolyMatrix identity(4)
CALL PolyMatrix 4

TEST S03 PolyMatrix determinant(3), (4)
CALL PolyMatrix

TEST S04 PolyMatrix characteristic polynomial
CALL PolyMatrix -char 3

TEST PV1 PolyVector.powerSum
CALL PolyVector -psum m^2-n^2 (2*m*n) m^2+n^2

TEST PV2 PolyVector.powerSum
CALL PolyVector -psum a b c 

TEST PMA1 PolyMatrix.multiply
CALL PolyMatrix -mult [[5,5,0,-3],[3,0,5,5],[0,-3,5,5],[5,5,3,0]] [a,b,c,d]

#-------------------------
# MatrixExhauster
PACKAGE=org.teherba.ramath
#-----------
# Pythagoras

TEST MX01 m2 Barning's, Price's and Barning's flipped
CALL MatrixExhauster m2 -l 4

TEST MX02 m2 6
CALL MatrixExhauster m2 -l 6

# TEST MX03 m2 10
# CALL MatrixExhauster m2 -l 10

# TEST MX04 m3 4
# CALL MatrixExhauster m3 -l 4

TEST MX05 v2 6
CALL MatrixExhauster v2 -l 6

TEST MX06 v2 9
CALL MatrixExhauster v2 -l 9
#-----------
# EC(3)

TEST MX07            pEC331 
CALL MatrixExhauster pEC331 -l 4

TEST MX08            pEC331 
CALL MatrixExhauster pEC331 -l 5

TEST MX09            pEC331 
CALL MatrixExhauster pEC331 -l 6
# found chain 8, fact 27 [[5,5,0,-3],[3,0,-5,5],[0,3,5,-5],[5,5,-3,0]] [3,4,5,6] => [17,14,7,20] => [95,116,-23,134] => [653,1070,-437,1124] => [5243,9764,-4595,9926] => [45257,88334,-43313,88820] => [401495,796436,-395663,797894] => [3595973,7172270,-3578477,7176644] => [32311283,64563524,-32258795,64576646]
#    3*a^3   + 3*b^3    + 3*c^3    - 3*d^3
# + 10*a^2*c + 10*a*c^2 + 10*b*c^2 - 10*a^2*d 
# + 40*a*d^2 + 40*b^2*c - 40*b^2*d + 40*b*d^2
# + 50*a*b*c - 50*a*c*d - 50*b*c*d - 50*a*b*d
                    
TEST MX10            pEC322 
CALL MatrixExhauster pEC322 -l 4

TEST MX11            pEC322 
CALL MatrixExhauster pEC322 -l 6
# found chain 8, fact 27 [[5,5,0,-3][3,0,5,5][0,-3,5,5][5,5,3,0]] [9,10,1,12] => [59,92,35,98] => [461,842,389,860] => ...

TEST MX40            pEC340
CALL MatrixExhauster pEC340 -l 4 -v [3,4,5,-6]

TEST MX41            pEC340 
CALL MatrixExhauster pEC340 -l 6 -v [9,10,-1,-12]

TEST MX42            pEC340
CALL MatrixExhauster pEC340 -l 4 -v [1,6,8,-9]
#----------
PACKAGE=org.teherba.ramath.linear

TEST MX12            chain 
CALL Matrix -chain [[5,5,0,-3],[3,0,5,5],[0,-3,5,5],[5,5,3,0]] [1,12,9,10] 2 2
#    [9,10,1,12] passed
#    [1,12,9,10] passed
#    16      2     15     9  failed
#    27     10     24    19  failed

TEST MX13            chain 
CALL Matrix -chain [[5,5,0,-3],[3,0,-5,5],[0,3,5,-5],[5,5,-3,0]] [3,4,5,6] 3 1

TEST MX14            chain 
CALL Matrix -chain [[0,1,3,-3],[2,2,0,-1],[1,0,-3,3],[2,2,-1,0]] 	[3,4,5,6]	3 1

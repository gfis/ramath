#!java -cp ../dist/ramath.jar org.teherba.common.RegressionTester
#
# $Id eec.tests $
# Test cases for Euler's extended conjecture experiments
# 2018-01-22: Dr. Georg Fischer
#
#===================================================
PACKAGE=org.teherba.ramath.eec

TEST CS2A 2,2,1 data
CALL CandidateSelector expand -w 3 -b 4  -e 2 -l 2 -r 1 -f data/euler221.man
#---------------------
TEST CS3A 3,1,3 data
CALL CandidateSelector expand -w 4 -b 5  -e 3 -l 4 -r 0 -s 6 -f data/euler313.man
# chain8 [[3,-2,1,2],[0,-1,0,2],[4,2,-2,4],[1,-1,3,-3]]		[19,3,18,10] [89,17,86,40] [399,63,378,210] [1869,357,1806,840] [8379,1323,7938,4410] [39249,7497,37926,17640] [175959,27783,166698,92610] [824229,157437,796446,370440] [3695139,583443,3500658,1944810]
# chain8 [[0,3,2,3],[0,-4,1,4],[1,4,1,1],[4,2,1,-3]]		[20,7,17,14] [97,45,79,69] [500,175,425,350] [2425,1125,1975,1725] [12500,4375,10625,8750] [60625,28125,49375,43125] [312500,109375,265625,218750] [1515625,703125,1234375,1078125] [7812500,2734375,6640625,5468750]
# chain8 [[-1,1,3,1],[3,-1,-2,-1],[3,0,-1,0],[4,3,-1,-3]] 	[41,6,33,32] [96,19,90,53] [246,36,198,192] [576,114,540,318] [1476,216,1188,1152] [3456,684,3240,1908] [8856,1296,7128,6912] [20736,4104,19440,11448] [53136,7776,42768,41472]

TEST CS3B 3,4,0 from L12 MatrixTester -many 2
DATA
28,-18,-21,-19
134,-86,-97,-95
CALL CandidateSelector expand -w 4 -b 5  -e 3 -l 4 -r 0 -f $(DATA)
# chain8 [[4,1,-1,-1],[-1,1,1,1],[-4,-2,1,0],[-4,-2,0,1]] 	[28,-18,-21,-19] [134,-86,-97,-95] [642,-412,-461,-459] [3076,-1974,-2205,-2203] [14738,-9458,-10561,-10559] [70614,-45316,-50597,-50595] [338332,-217122,-242421,-242419] [1621046,-1040294,-1161505,-1161503] [7766898,-4984348,-5565101,-5565099]
# chain8 [[1,-1,1,1],[1,4,-1,-1],[2,0,2,1],[2,0,1,2]]		[134,-86,-97,-95] [28,-18,-21,-19] [6,-4,-5,-3] [2,-2,-1,1] [4,-6,3,5] [18,-28,19,21] [86,-134,95,97] [412,-642,459,461] [1974,-3076,2203,2205]
TEST CS3BN preserve desc.
CALL CandidateSelector preserve -m [[1,-1,1,1],[1,4,-1,-1],[2,0,2,1],[2,0,1,2]]

TEST CS3C 3,4,0 from L12 MatrixTester -many 2
DATA
(2203,1974,2205,-3076)
(10559,9458,10561,-14738)
CALL CandidateSelector expand -w 4 -b 5  -e 3 -l 4 -r 0 -f $(DATA)
# chain8 [[2,2,1,0],[1,1,1,-1],[1,2,2,0],[-2,-3,-2,0]] [2203,1974,2205,-3076] [10559,9458,10561,-14738] [50595,45316,50597,-70614] [242419,217122,242421,-338332] [1161503,1040294,1161505,-1621046] [5565099,4984348,5565101,-7766898] [26663995,23881446,26663997,-37213444] [127754879,114422882,127754881,-178300322] [612110403,548232964,612110405,-854288166]
# chain8 [[1,-4,0,-2],[-1,4,-1,1],[0,-4,1,-2],[1,-1,1,1]] [10559,9458,10561,-14738] [2203,1974,2205,-3076] [459,412,461,-642] [95,86,97,-134] [19,18,21,-28] [3,4,5,-6] [-1,2,1,-2] [-5,6,-3,-4] [-21,28,-19,-18]
TEST CS3CN preserve desc.
CALL CandidateSelector preserve -m [[1,-4,0,-2],[-1,4,-1,1],[0,-4,1,-2],[1,-1,1,1]]

TEST CS3D 3,4,0 from EC33.man.tst
DATA
[12,1,-9,-10]
[39,17,-36,-26]
[141,76,-138,-85]
CALL CandidateSelector expand -w 4 -b 4  -e 3 -l 4 -r 0 -f $(DATA)
# chain8 [[3,2,1,-1],[-1,1,-2,-1],[-2,-2,0,1],[-2,-1,-1,1]] [39,17,-36,-26] [141,76,-138,-85] [522,296,-519,-305] [1944,1117,-1941,-1126] [7251,4181,-7248,-4190] [27057,15616,-27054,-15625] [100974,58292,-100971,-58301] [376836,217561,-376833,-217570] [1406367,811961,-1406364,-811970]
# chain8 [[0,-2,-2,1],[1,2,2,0],[1,2,3,-1],[2,0,1,2]] [141,76,-138,-85] [39,17,-36,-26] [12,1,-9,-10] [6,-4,-3,-5] [9,-8,-6,-1] [27,-19,-24,10] [96,-59,-93,50] [354,-208,-351,199] [1317,-764,-1314,755]
TEST CS3DI 3,4,0 inverse of 2nd in CS3D
# CALL CandidateSelector preserve -m [[12,8,4,-4],[2,6,-2,-2],[-8,-8,0,4],[-8,-4,-4,4]]
# CALL CandidateSelector preserve -m [[6,4,2,-2],[1,3,-1,-1],[-4,-4,0,2],[-4,-2,-2,2]]
CALL CandidateSelector preserve -m [[3,2,1,-1],[-1,1,-2,-1],[-2,-2,0,1],[-2,-1,-1,1]]
TEST CS3DP 
CALL CandidateSelector preserve -m [[3,2,1,-1],[-1,1,-2,-1],[1,-1,3,2],[-2,-1,-1,1]]

TEST CS3E 3,4,0 from prewrob3.fnd.man
CALL CandidateSelector expand -w 4 -b 4 -e 3 -l 4 -r 0 -n -s 5 -c 1 -f data/prewrob3.spc.man
# 16,2,-15,-9 [[4,-4,-4,-4],[0,2,0,0],[-3,4,5,4],[3,-4,3,4]]
# [[16384,32768,8192,8192],[0,32768,0,0],[49152,-32768,57344,-8192],[-49152,32768,-49152,16384]],fraction=65536,det=0 is inverse of [[4,-4,-4,-4],[0,2,0,0],[-3,4,5,4],[3,-4,3,4]],det=64,identity = false
TEST CS3EI
CALL CandidateSelector preserve -m [[2,4,1,1],[0,4,0,0],[6,-4,7,-1],[-6,4,-6,2]

TEST CS3F 3,4,0 
CALL CandidateSelector expand -w 4 -b 4 -e 3 -l 4 -r 0 -n -s 10 -c 1 -f data/prewrob3.s36.man

TEST CS3G 3,4,0 from prewrob3.fnd.man
CALL CandidateSelector expand -w 4 -b 5 -e 3 -l 4 -r 0 -c 2 -f data/prewrob3.sub.man


#---------------------
TEST CS41 4,1,3 data
CALL CandidateSelector expand -w 4 -b 9 -e 4 -l 3 -r 1 -c 1 -f data/euler413.man

TEST CS42 4,2,2 data
CALL CandidateSelector expand -w 4 -b 10 -e 4 -l 2 -r 2 -f data/euler422.man

TEST CS4C 4,2,2 data
CALL CandidateSelector expand -w 4 -b 9 -e 4 -l 2 -r 2 -f data/euler422.man
# chain2 [[3,1,1,-5],[7,2,-5,-4],[1,-5,2,-1],[5,2,1,-8]] [631,222,558,503] [158,59,134,133] [2,22,-2,-22]
# chain2 [[-4,-3,6,0],[7,2,-5,-4],[8,-1,-3,-6],[5,2,1,-8]] [631,222,558,503] [158,59,134,133] [-5,22,5,-22]

TEST CS4D 4,1,3 data
CALL CandidateSelector expand -w 4 -b 45 -s 5 -e 4 -l 3 -r 1 -c 1 -f data/euler413.man
# CandidateSelector expand width=4 base=45 exponent=4 left=3 right=1 fileName=data/euler413.man
# chain1 [[8,-17,2,7],[-30,24,-16,24],[-1,-16,8,9],[-13,15,-19,16]] [414560,217519,95800,422481] [2767624,1390400,673865,2813001]
# chain1 [[-1,12,42,12],[-2,1,-13,24],[10,0,18,0],[2,31,13,8]] 		[414560,217519,95800,422481] [11289040,8282543,5870000,12197457]
# chain1 [[-1,12,42,12],[-2,1,-13,24],[10,0,18,0],[29,-39,11,18]] 	[414560,217519,95800,422481] [11289040,8282543,5870000,12197457]

#---------------------
